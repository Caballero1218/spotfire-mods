!function(){"use strict";function e(e){var t,n=/$^/,i="",r=[],a=!1,o=0,l=[],c=window.d3,d=window.parent?window.parent:window,u=e.linkTooltips;document.getElementById("canvas").addEventListener("click",(function(){document.getElementById("linkDescriptionWrapper").style.display="none"}));var s=c.select("#canvas").append("svg").attr("id","svg").attr("width","100%").attr("height","100%"),f=s.append("g").attr("id","nodes"),m=s.append("g").attr("id","links");return(t=c.hierarchy(e.root)).x0=0,t.y0=0,t.descendants().forEach((function(e,t){var n;e.id=t,e._allChildren=(null===(n=e.children)||void 0===n?void 0:n.map((function(e){return{visible:!0,node:e}})))||[]})),{search:function(e){var i=e.indexOf("*")>=0;n=(e=e.trim().replace(new RegExp(" +","g"),"|").replace(new RegExp("\\*","gi"),"\\w*"))?new RegExp(i?"^("+e+")$":"("+e+")","i"):/$^/;r=[],function e(t,n){g(t)&&r.push.apply(r,n),t._allChildren.forEach((function(t){e(t.node,n.concat(t.node.id))}))}(t,[]),v()},select:function(e){i=e,v()},expand:function(e){var n=!1;(function t(i,r){i.node.children&&h(i.node,!1);i.node._allChildren.forEach((function(e){t(e,r.concat(i))})),(g(i.node)||!e)&&(r.push(i),n=!0,r.forEach((function(e){e.visible=!0})),r.forEach((function(e){var t=e.node._allChildren.map((function(e){return e.visible?e.node:null})).filter(Boolean);e.node.children=t.length?t:null})))})({visible:!0,node:t},[]),n&&k(1e3)},update:k,onUpdate:function(e){l.push(e)}};function p(e){return document.getElementById("measureText").textContent=e,document.getElementById("measureText").clientWidth+16}function h(e,t){e.children&&1!=t?(e.children=null,e._allChildren.forEach((function(e){return e.visible=!1}))):0!=t&&(e.children=e._allChildren.length?e._allChildren.map((function(e){return e.node})):null,e._allChildren.forEach((function(e){return e.visible=!0})))}function v(){c.select("#canvas").selectAll("g.node").attr("class",E),c.select("#canvas").selectAll("g.link").attr("class",y)}function g(e){var t;return n.test(e.data.name)||(null===(t=e.data.aliases)||void 0===t?void 0:t.reduce((function(e,t){return e||n.test(t)}),!1))}function y(e){var t=["link"];return-1!=r.indexOf(e.target.id)&&t.push("highlight"),t.join(" ")}function E(e){var t,n=["node"];return g(e)&&n.push("highlight"),e._allChildren.length||n.push("leaf"),(e.data.name==i||(null===(t=e.data.aliases)||void 0===t?void 0:t.indexOf(i))>=0)&&n.push("selected"),n.join(" ")}function x(e){return function(e){return void 0!==e.data}(e)?p(e.data.name):e.source&&e.source.data&&e.source.data.name?p(e.source.data.name):0}function w(e){return"M"+e.source.y+","+e.source.x+"C"+(e.source.y+e.target.y)/2+","+e.source.x+" "+(e.source.y+e.target.y)/2+","+e.target.x+" "+e.target.y+","+e.target.x}function k(e){var n,r;if(void 0===e&&(e=0),a)return clearTimeout(o),void(o=setTimeout((function(){k(e)}),100));a=!0,c.tree().nodeSize([27,200])(t);var s=t.descendants().reverse(),g=t.links(),b=[];!function e(t){var n=Math.max(140,p(t.data.name)+32),i=t.depth;b.length<=i&&b.push(n),b[i]=Math.max(b[i],n),t.children&&t.children.forEach((function(t){e(t)}))}(t),s.forEach((function(e){e.y=b.slice(0,e.depth).reduce((function(e,t){return e+t}),0)})),s.forEach((function(e){e._pvp=e._vp})),function e(t){t._allChildren.forEach((function(n){n.visible?(n.node._vp=t,e(n.node)):function e(t,n){t._vp=n,t._allChildren&&t._allChildren.forEach((function(t){return e(t.node,n)}))}(n.node,t)}))}(t);var B=function(){var n=f.selectAll("g.link").data(g,(function(e){return e.target.id})),i=n.enter().append("g").attr("class",y);i.append("path").attr("class","core"),i.append("path").attr("class","padding").on("mouseenter",C).on("mouseleave",L),i.selectAll("path").attr("d",(function(e){var n=e.target._pvp||t;return w({source:{x:n.x0,y:n.y0+x(n)},target:{x:n.x0,y:n.y0+x(n)}})}));var r=n.merge(i).selectAll("path").transition().duration(e).attr("stroke-width",(function(){return this.getAttribute("class").indexOf("padding")>=0?4:1})).attr("d",(function(e){return w({source:{x:e.source.x,y:e.source.y+x(e)},target:{x:e.target.x,y:e.target.y}})})).end(),a=n.exit().selectAll("path").transition().duration(e).attr("stroke-width",0).attr("d",(function(e){var t=e.target._vp;return w({source:{x:t.x,y:t.y+x(t)},target:{x:t.x,y:t.y+x(t)}})})).end(),o=n.exit().transition().duration(e).remove().end();return a.then(),o.then(),r.then(),Promise.resolve()}(),I=function(){var n=m.selectAll("g.node").data(s,(function(e){return e.id})),r=n.enter().append("g").attr("transform",(function(e){var n=e._pvp||t;return"translate("+(n.y0+x(n))+","+n.x0+") scale(0,0)"})).on("dblclick",(function(e){a||(h(e),k(1e3))})).on("click",(function(e){document.querySelector("#code").textContent=e.code,d.location.hash=e.data.name,i=e.data.name,v()}));r.append("rect").attr("rx",10).attr("y",-10).attr("height",21).attr("data-id",(function(e){return e.id})).attr("width",x),r.append("text").attr("x",8).attr("y",5).text((function(e){return e.data.name}));var o=n.merge(r).transition().duration(e).attr("transform",(function(e){return"translate("+e.y+","+e.x+") scale(1,1)"})).attr("class",E).end().then();return n.exit().transition().duration(e).attr("transform",(function(e){return"translate("+(e._vp.y+x(e._vp))+","+e._vp.x+") scale(0,0)"})).remove().end().then(),o}();return s.forEach((function(e){e.x0=e.x,e.y0=e.y})),Promise.all([I,B]).then((function(){a=!1,l.forEach((function(e){return e()}))}));function L(){clearTimeout(n),n=null}function C(e){var t=e.source.data.name+"->"+e.target.data.name;"none"!=document.getElementById("linkDescriptionWrapper").style.display&&r!=t&&clearTimeout(n),document.getElementById("linkDescriptionWrapper").style.display="none",r=t;var i=c.event.pageX+4,a=c.event.pageY+4,o=(u[t]||[]).map((function(e){return"<div>"+e+"</div>"})).join("\r\n");n=setTimeout((function(){!function(e,t,i){n=null;var r=document.getElementById("linkDescriptionWrapper");r.style.left=e+"px",r.style.top=t+"px",r.style.display="block",document.getElementById("linkDescriptionContent").innerHTML=i}(i,a,o)}),150)}}}var t,n,i,r=!1,a=window.parent?window.parent:window,o=document.getElementById("search"),l=document.getElementById("filterToSearchResult"),c=document.getElementById("resizeHandle"),d=document.getElementById("searchArea"),u=document.getElementById("flyout"),s=document.getElementById("clearSearch"),f=document.getElementById("searchButton");function m(){function e(){n.expand(l.checked)}s.style.display=o.value?"block":"none",n.search(o.value),this==l?e():l.checked?(clearTimeout(i),i=setTimeout(e,1e3)):clearTimeout(i)}function p(){t?(t.updateBBox().resize(),v()):(t=window.svgPanZoom("#svg",{zoomScaleSensitivity:.5,minZoom:.5,maxZoom:5,dblClickZoomEnabled:!1,preventMouseEventsDefault:!1,onZoom:v}),h()),n.select(a.location.hash.substring(1))}function h(){t.updateBBox().resize().fit().center().zoom(.9)}function v(){x(document.getElementById("zoomIn"),"disabled",t.getZoom()>=4.9999),x(document.getElementById("zoomOut"),"disabled",t.getZoom()<=.5001)}function g(e,t){return e.parentElement?-1!=[].indexOf.call(e.parentElement.querySelectorAll(t),e)?e:g(e.parentElement,t):null}function y(e){x(u,"collapsed",e),-1!=u.className.indexOf("collapsed")?(u.style.right="-"+u.style.width,setTimeout((function(){document.getElementById("textContent").style.display="none"}),1e3)):(u.clientWidth>document.body.clientWidth-200&&(u.style.width=document.body.clientWidth-200+"px"),document.getElementById("textContent").style.display="block",u.style.right="0",r=!0)}function E(){var e=a.location.hash.substring(1);if(e){n.select(e);var t=document.querySelector("#"+e);if(t){-1==u.className.indexOf("collapsed")&&(t.parentElement.scrollIntoView(),u.scrollTop-=15);for(var i=u.querySelectorAll("div.type"),r=0;r<i.length;r++)x(i[r],"current",!1);x(t.parentElement.parentElement,"current",!0)}}}function x(e,t,n){var i=e.className.split(" ").filter((function(e){return e})),r=i.indexOf(t);return-1==r||null!=n&&0!=n||i.splice(r,1),-1!=r||null!=n&&1!=n||i.push(t),e.className=i.join(" "),-1!=i.indexOf(t)}document.getElementById("canvas").textContent="",t=null,(n=e(window.treeData)).onUpdate(p),n.update(),a.addEventListener("hashchange",(function(){if(!a.location.hash)return;E(),r||y(!1)})),document.getElementById("collapse").addEventListener("click",(function(){return y()})),c.addEventListener("mousedown",(function(e){function t(e){return Math.min(document.body.clientWidth-300,Math.max(200,e.clientX))}function n(e){c.style.marginLeft=t(e)-i-10+"px"}var i=e.clientX;x(c,"dragging",!0),window.addEventListener("mousemove",n,!1),window.addEventListener("mouseup",(function e(i){c.style.marginLeft="",u.style.width=document.body.clientWidth-t(i)+"px",x(c,"dragging",!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}),!1)})),o.addEventListener("input",m),l.addEventListener("click",m),s.addEventListener("click",(function(){o.value="",m()})),u.addEventListener("transitionend",E),document.getElementById("zoomIn").addEventListener("click",(function(){t.zoomIn()})),document.getElementById("zoomOut").addEventListener("click",(function(){t.zoomOut()})),document.getElementById("zoomReset").addEventListener("click",h),f.addEventListener("click",(function(){x(d,"visible"),x(f,"active"),o.focus()})),document.getElementById("svg").addEventListener("click",(function(){return x(d,"visible",!1)})),window.addEventListener("resize",p),window.addEventListener("keydown",(function(e){e.ctrlKey&&"f"==e.key?(x(d,"visible",!0),o.focus(),e.preventDefault()):"Escape"==e.key&&(x(d,"visible",!1),o.blur(),e.preventDefault())})),o.value=(function(e){for(var t=a.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return}("search")||"").replace(new RegExp("\\|","g")," "),o.value&&setTimeout((function(){n.search(o.value),n.expand(!0)}),100),a.location.hash&&(y(!1),setTimeout(E,0)),setTimeout((function(){x(u,"animate",!0)}),0),document.body.addEventListener("click",(function(e){var t=e.target;if(g(t,"H2")&&g(t,"div.left"))a.location.hash=t.textContent;else if("A"==t.tagName&&g(t,".api-link")){var n=g(t,".left");if(n){var i=n.querySelector("h2").textContent;a.history?a.history.pushState(null,null,"#"+i):a.location.hash=i}}else if("A"==t.tagName)t.getAttribute("target")||(a.location.hash=t.getAttribute("href"),e.preventDefault());else if(t.parentElement.className.indexOf&&-1!=t.parentElement.className.indexOf("show-code")){var r=g(t,"div.type");x(r.querySelector(".right"),"collapsed"),x(r.querySelector(".show-code-text"),"collapsed"),x(r.querySelector(".hide-code-text"),"collapsed")}}))}();