!function(){"use strict";function e(e){var t,n,i,r,a=/$^/,o="",l=[],c=!1,d=0,u=[],s=window.d3,f=window.parent?window.parent:window,m=document.getElementById("linkDescriptionWrapper"),h=e.linkTooltips;m.addEventListener("mouseenter",(function(){clearTimeout(i)})),m.addEventListener("mouseleave",C),document.getElementById("canvas").addEventListener("click",(function(){m.style.display="none"}));var p=s.select("#canvas").append("svg").attr("id","svg").attr("width","100%").attr("height","100%"),v=p.append("g").attr("id","nodes"),g=p.append("g").attr("id","links");return(t=s.hierarchy(e.root)).x0=0,t.y0=0,t.descendants().forEach((function(e,t){var n;e.id=t,e._allChildren=(null===(n=e.children)||void 0===n?void 0:n.map((function(e){return{visible:!0,node:e}})))||[]})),{search:function(e){var n=e.indexOf("*")>=0;a=(e=e.trim().replace(new RegExp(" +","g"),"|").replace(new RegExp("\\*","gi"),"\\w*"))?new RegExp(n?"^("+e+")$":"("+e+")","i"):/$^/;l=[],function e(t,n){w(t)&&l.push.apply(l,n),t._allChildren.forEach((function(t){e(t.node,n.concat(t.node.id))}))}(t,[]),x()},select:function(e){o=e,x()},expand:function(e){var n=!1;(function t(i,r){i.node.children&&E(i.node,!1);i.node._allChildren.forEach((function(e){t(e,r.concat(i))})),(w(i.node)||!e)&&(r.push(i),n=!0,r.forEach((function(e){e.visible=!0})),r.forEach((function(e){var t=e.node._allChildren.map((function(e){return e.visible?e.node:null})).filter(Boolean);e.node.children=t.length?t:null})))})({visible:!0,node:t},[]),n&&L(1e3)},update:L,onUpdate:function(e){u.push(e)}};function y(e){return document.getElementById("measureText").textContent=e,document.getElementById("measureText").clientWidth+16}function E(e,t){e.children&&1!=t?(e.children=null,e._allChildren.forEach((function(e){return e.visible=!1}))):0!=t&&(e.children=e._allChildren.length?e._allChildren.map((function(e){return e.node})):null,e._allChildren.forEach((function(e){return e.visible=!0})))}function x(){s.select("#canvas").selectAll("g.node").attr("class",b),s.select("#canvas").selectAll("g.link").attr("class",k)}function w(e){var t;return a.test(e.data.name)||(null===(t=e.data.aliases)||void 0===t?void 0:t.reduce((function(e,t){return e||a.test(t)}),!1))}function k(e){var t=["link"];return-1!=l.indexOf(e.target.id)&&t.push("highlight"),t.join(" ")}function b(e){var t,n=["node"];return w(e)&&n.push("highlight"),e._allChildren.length||n.push("leaf"),(e.data.name==o||(null===(t=e.data.aliases)||void 0===t?void 0:t.indexOf(o))>=0)&&n.push("selected"),n.join(" ")}function B(e){return function(e){return void 0!==e.data}(e)?y(e.data.name):e.source&&e.source.data&&e.source.data.name?y(e.source.data.name):0}function I(e){return"M"+e.source.y+","+e.source.x+"C"+(e.source.y+e.target.y)/2+","+e.source.x+" "+(e.source.y+e.target.y)/2+","+e.target.x+" "+e.target.y+","+e.target.x}function L(e){if(void 0===e&&(e=0),c)return clearTimeout(d),void(d=setTimeout((function(){L(e)}),100));c=!0,s.tree().nodeSize([27,200])(t);var n=t.descendants().reverse(),i=t.links(),r=[];!function e(t){var n=Math.max(140,y(t.data.name)+32),i=t.depth;r.length<=i&&r.push(n),r[i]=Math.max(r[i],n),t.children&&t.children.forEach((function(t){e(t)}))}(t),n.forEach((function(e){e.y=r.slice(0,e.depth).reduce((function(e,t){return e+t}),0)})),n.forEach((function(e){e._pvp=e._vp})),function e(t){t._allChildren.forEach((function(n){n.visible?(n.node._vp=t,e(n.node)):function e(t,n){t._vp=n,t._allChildren&&t._allChildren.forEach((function(t){return e(t.node,n)}))}(n.node,t)}))}(t);var a=function(){var n=v.selectAll("g.link").data(i,(function(e){return e.target.id})),r=n.enter().append("g").attr("class",k);r.append("path").attr("class","core"),r.append("path").attr("class","padding").on("mouseenter",_).on("mouseleave",C),r.selectAll("path").attr("d",(function(e){var n=e.target._pvp||t;return I({source:{x:n.x0,y:n.y0+B(n)},target:{x:n.x0,y:n.y0+B(n)}})}));var a=n.merge(r).selectAll("path").transition().duration(e).attr("stroke-width",(function(){return this.getAttribute("class").indexOf("padding")>=0?4:1})).attr("d",(function(e){return I({source:{x:e.source.x,y:e.source.y+B(e)},target:{x:e.target.x,y:e.target.y}})})).end(),o=n.exit().selectAll("path").transition().duration(e).attr("stroke-width",0).attr("d",(function(e){var t=e.target._vp;return I({source:{x:t.x,y:t.y+B(t)},target:{x:t.x,y:t.y+B(t)}})})).end(),l=n.exit().transition().duration(e).remove().end();return o.then(),l.then(),a.then(),Promise.resolve()}(),l=function(){var i=g.selectAll("g.node").data(n,(function(e){return e.id})),r=i.enter().append("g").attr("transform",(function(e){var n=e._pvp||t;return"translate("+(n.y0+B(n))+","+n.x0+") scale(0,0)"})).on("dblclick",(function(e){c||(E(e),L(1e3))})).on("click",(function(e){document.querySelector("#code").textContent=e.code,f.location.hash=e.data.name,o=e.data.name,x()}));r.append("rect").attr("rx",10).attr("y",-10).attr("height",21).attr("data-id",(function(e){return e.id})).attr("width",B),r.append("text").attr("x",8).attr("y",5).text((function(e){return e.data.name}));var a=i.merge(r).transition().duration(e).attr("transform",(function(e){return"translate("+e.y+","+e.x+") scale(1,1)"})).attr("class",b).end().then();return i.exit().transition().duration(e).attr("transform",(function(e){return"translate("+(e._vp.y+B(e._vp))+","+e._vp.x+") scale(0,0)"})).remove().end().then(),a}();return n.forEach((function(e){e.x0=e.x,e.y0=e.y})),Promise.all([l,a]).then((function(){c=!1,u.forEach((function(e){return e()}))}))}function C(){clearTimeout(n),n=null,i=setTimeout((function(){return m.style.display="none"}),1e3)}function _(e){var t=e.source.data.name+"->"+e.target.data.name;"none"!=m.style.display&&r!=t&&clearTimeout(n),m.style.display="none",r=t;var a=s.event.pageX+4,o=s.event.pageY+4,l=(h[t]||[]).map((function(e){return"<div>"+e+"</div>"})).join("\r\n");n=setTimeout((function(){!function(e,t,r){n=null,clearTimeout(i);var a=m;a.style.left=e+"px",a.style.top=t+"px",a.style.display="block",document.getElementById("linkDescriptionContent").innerHTML=r}(a,o,l)}),150)}}var t,n,i,r=!1,a=window.parent?window.parent:window,o=document.getElementById("search"),l=document.getElementById("filterToSearchResult"),c=document.getElementById("resizeHandle"),d=document.getElementById("searchArea"),u=document.getElementById("flyout"),s=document.getElementById("clearSearch"),f=document.getElementById("searchButton");function m(){function e(){n.expand(l.checked)}s.style.display=o.value?"block":"none",n.search(o.value),this==l?e():l.checked?(clearTimeout(i),i=setTimeout(e,1e3)):clearTimeout(i)}function h(){t?(t.updateBBox().resize(),v()):(t=window.svgPanZoom("#svg",{zoomScaleSensitivity:.5,minZoom:.5,maxZoom:5,dblClickZoomEnabled:!1,preventMouseEventsDefault:!1,onZoom:v}),p()),n.select(a.location.hash.substring(1))}function p(){t.updateBBox().resize().fit().center().zoom(.9)}function v(){x(document.getElementById("zoomIn"),"disabled",t.getZoom()>=4.9999),x(document.getElementById("zoomOut"),"disabled",t.getZoom()<=.5001)}function g(e,t){return e.parentElement?-1!=[].indexOf.call(e.parentElement.querySelectorAll(t),e)?e:g(e.parentElement,t):null}function y(e){x(u,"collapsed",e),-1!=u.className.indexOf("collapsed")?(u.style.right="-"+u.style.width,setTimeout((function(){document.getElementById("textContent").style.display="none"}),1e3)):(u.clientWidth>document.body.clientWidth-200&&(u.style.width=document.body.clientWidth-200+"px"),document.getElementById("textContent").style.display="block",u.style.right="0",r=!0)}function E(){var e=a.location.hash.substring(1);if(e){n.select(e);var t=document.querySelector("#"+e);if(t){-1==u.className.indexOf("collapsed")&&(t.parentElement.scrollIntoView(),u.scrollTop-=15);for(var i=u.querySelectorAll("div.type"),r=0;r<i.length;r++)x(i[r],"current",!1);x(t.parentElement.parentElement,"current",!0)}}}function x(e,t,n){var i=e.className.split(" ").filter((function(e){return e})),r=i.indexOf(t);return-1==r||null!=n&&0!=n||i.splice(r,1),-1!=r||null!=n&&1!=n||i.push(t),e.className=i.join(" "),-1!=i.indexOf(t)}document.getElementById("canvas").textContent="",t=null,(n=e(window.treeData)).onUpdate(h),n.update(),a.addEventListener("hashchange",(function(){if(!a.location.hash)return;E(),r||y(!1)})),document.getElementById("collapse").addEventListener("click",(function(){return y()})),c.addEventListener("mousedown",(function(e){function t(e){return Math.min(document.body.clientWidth-300,Math.max(200,e.clientX))}function n(e){c.style.marginLeft=t(e)-i-10+"px"}var i=e.clientX;x(c,"dragging",!0),x(u,"resizing",!0),window.addEventListener("mousemove",n,!1),window.addEventListener("mouseup",(function e(i){c.style.marginLeft="",u.style.width=document.body.clientWidth-t(i)+"px",x(c,"dragging",!1),x(u,"resizing",!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}),!1)})),o.addEventListener("input",m),l.addEventListener("click",m),s.addEventListener("click",(function(){o.value="",m()})),u.addEventListener("transitionend",E),document.getElementById("zoomIn").addEventListener("click",(function(){t.zoomIn()})),document.getElementById("zoomOut").addEventListener("click",(function(){t.zoomOut()})),document.getElementById("zoomReset").addEventListener("click",p),f.addEventListener("click",(function(){x(d,"visible"),x(f,"active"),o.focus()})),document.getElementById("svg").addEventListener("click",(function(){return x(d,"visible",!1)})),window.addEventListener("resize",h),window.addEventListener("keydown",(function(e){e.ctrlKey&&"f"==e.key?(x(d,"visible",!0),o.focus(),e.preventDefault()):"Escape"==e.key&&(x(d,"visible",!1),o.blur(),e.preventDefault())})),o.value=(function(e){for(var t=a.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return}("search")||"").replace(new RegExp("\\|","g")," "),o.value&&setTimeout((function(){n.search(o.value),n.expand(!0)}),100),a.location.hash&&(y(!1),setTimeout(E,0)),setTimeout((function(){x(u,"animate",!0)}),0),document.body.addEventListener("click",(function(e){var t=e.target;if(g(t,"H2")&&g(t,"div.left"))a.location.hash=t.textContent;else if("A"==t.tagName&&g(t,".api-link")){var n=g(t,".left");if(n){var i=n.querySelector("h2").textContent;a.history?a.history.pushState(null,null,"#"+i):a.location.hash=i}}else if("A"==t.tagName)t.getAttribute("target")||(a.location.hash=t.getAttribute("href"),e.preventDefault());else if(t.parentElement.className.indexOf&&-1!=t.parentElement.className.indexOf("show-code")){var r=g(t,"div.type");x(r.querySelector(".right"),"collapsed"),x(r.querySelector(".show-code-text"),"collapsed"),x(r.querySelector(".hide-code-text"),"collapsed")}}))}();